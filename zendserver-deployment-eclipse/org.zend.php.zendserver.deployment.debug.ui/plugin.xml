<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
  <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            allPopups="false"
            locationURI="menu:org.zend.php.zendserver.deployment.ui.targets.TargetsViewer?after=dropMenu">
         <command
               commandId="org.zend.php.zendserver.deployment.debug.ui.launchApplication"
               icon="icons/obj16/run_exc.gif"
               label="Launch a PHP Application"
               style="push">
            <parameter
                  name="mode"
                  value="run">
            </parameter>
         </command>
         <command
               commandId="org.zend.php.zendserver.deployment.debug.ui.launchApplication"
               icon="icons/obj16/debug_exc.gif"
               label="Launch a PHP Application in Debug Mode"
               style="push">
            <parameter
                  name="mode"
                  value="debug">
            </parameter>
         </command>
         <command
               commandId="org.zend.php.zendserver.deployment.debug.ui.deployApplication"
               icon="icons/obj16/deploy_exc.png"
               label="Deploy a PHP Application"
               style="push">
         </command>
      </menuContribution>
      <menuContribution
            allPopups="false"
            locationURI="popup:org.zend.php.zendserver.deployment.ui.targetsview?after=popupGroup1">
         <command
               commandId="org.zend.php.zendserver.deployment.debug.ui.OpenDeploymentWizard"
               label="Open"
               style="push">
           <visibleWhen
                  checkEnabled="false">
               <iterate
                     ifEmpty="false"
                     operator="and">
                  <instanceof
                        value="org.eclipse.debug.core.ILaunchConfiguration">
                  </instanceof>
               </iterate>
            </visibleWhen>
         </command>
         <command
               commandId="org.zend.php.zendserver.deployment.debug.ui.launchApplication"
               icon="icons/obj16/run_exc.gif"
               label="Run"
               style="push">
            <parameter
                  name="mode"
                  value="run">
            </parameter>
            <visibleWhen
                  checkEnabled="false">
               <iterate
                     ifEmpty="false"
                     operator="and">
                  <instanceof
                        value="org.eclipse.debug.core.ILaunchConfiguration">
                  </instanceof>
               </iterate>
            </visibleWhen>
         </command>
         <command
               commandId="org.zend.php.zendserver.deployment.debug.ui.launchApplication"
               icon="icons/obj16/debug_exc.gif"
               label="Debug"
               style="push">
            <parameter
                  name="mode"
                  value="debug">
            </parameter>
            <visibleWhen
                  checkEnabled="false">
               <iterate
                     ifEmpty="false"
                     operator="and">
                  <instanceof
                        value="org.eclipse.debug.core.ILaunchConfiguration">
                  </instanceof>
               </iterate>
            </visibleWhen>
         </command>
         <command
               commandId="org.zend.php.zendserver.deployment.debug.openSshTunnel"
               label="Open SSH Tunnel"
               style="push">
           <visibleWhen
                  checkEnabled="true">
              <iterate
                    ifEmpty="false"
                    operator="and">
                 <instanceof
                       value="org.zend.sdklib.target.IZendTarget">
                 </instanceof>
              </iterate>
            </visibleWhen>
         </command>
         <command
               commandId="org.zend.php.zendserver.deployment.debug.ui.startDebugMode"
               label="Start Debug Mode"
               style="push">
            <visibleWhen
                  checkEnabled="true">
               <iterate
                     ifEmpty="false"
                     operator="and">
                  <test
                        forcePluginActivation="true"
                        property="propertyTester.debugMode.visible"
                        value="false">
                  </test>
               </iterate>
            </visibleWhen>
         </command>
         <command
               commandId="org.zend.php.zendserver.deployment.debug.ui.stopDebugMode"
               label="Stop Debug Mode"
               style="push">
            <visibleWhen
                  checkEnabled="true">
               <iterate
                     ifEmpty="false"
                     operator="and">
                  <test
                        forcePluginActivation="true"
                        property="propertyTester.debugMode.visible"
                        value="true">
                  </test>
               </iterate>
            </visibleWhen>
         </command>
      </menuContribution>
   </extension>
   <extension
         point="org.eclipse.ui.commands">
      <command
            defaultHandler="org.zend.php.zendserver.deployment.debug.ui.commands.LaunchApplicationHandler"
            id="org.zend.php.zendserver.deployment.debug.ui.launchApplication"
            name="Launch PHP Application">
         <commandParameter
               id="mode"
               name="mode"
               optional="false">
         </commandParameter>
         <commandParameter
               id="projectName"
               name="projectName"
               optional="false">
         </commandParameter>
      </command>
      <command
            defaultHandler="org.zend.php.zendserver.deployment.debug.ui.commands.DeployApplicationHandler"
            id="org.zend.php.zendserver.deployment.debug.ui.deployApplication"
            name="Deploy PHP Application">
            <commandParameter
               id="mode"
               name="mode"
               optional="false">
         </commandParameter>
         <commandParameter
               id="projectName"
               name="projectName"
               optional="false">
         </commandParameter>
      </command>
      <command
            defaultHandler="org.zend.php.zendserver.deployment.debug.ui.commands.OpenApplicationHandler"
            id="org.zend.php.zendserver.deployment.debug.ui.OpenDeploymentWizard"
            name="Open Deployment Wizard">
      </command>
      <command
            defaultHandler="org.zend.php.zendserver.deployment.debug.ui.commands.OpenTunnelCommand"
            id="org.zend.php.zendserver.deployment.debug.openSshTunnel"
            name="Open SSH Tunnel">
      </command>
      <command
            defaultHandler="org.zend.php.zendserver.deployment.debug.ui.commands.StartDebugModeHandler"
            id="org.zend.php.zendserver.deployment.debug.ui.startDebugMode"
            name="Start Debug Mode">
      </command>
      <command
            defaultHandler="org.zend.php.zendserver.deployment.debug.ui.commands.StopDebugModeHandler"
            id="org.zend.php.zendserver.deployment.debug.ui.stopDebugMode"
            name="Stop Debug Mode">
      </command>
   </extension>
   <extension
         point="org.eclipse.php.debug.ui.launchConfigurationTabs">
      <launchConfigurationTab
            class="org.zend.php.zendserver.deployment.debug.ui.config.DeploymentLaunchConfigurationTab"
            id="org.zend.php.zendserver.deployment.debug.ui.deploymentTab"
            launchConfigurationTabGroupId="org.eclipse.php.server.ui.launchConfigurationTabGroup"
            modes="run,debug">
      </launchConfigurationTab>
   </extension>
   <extension
         point="org.eclipse.php.debug.core.phpLaunchDelegateListener">
      <launchDelegateListener
            class="org.zend.php.zendserver.deployment.debug.ui.listeners.DeploymentLaunchListener">
      </launchDelegateListener>
   </extension>
   <extension
         point="org.eclipse.core.runtime.adapters">
      <factory
            adaptableType="org.eclipse.debug.core.ILaunchConfiguration"
            class="org.zend.php.zendserver.deployment.debug.ui.adapter.AdapterFactory">
         <adapter
               type="org.eclipse.jface.viewers.IDoubleClickListener">
         </adapter>
      </factory>
   </extension>
   <extension
         point="org.zend.php.zendserver.deployment.ui.testingSectionContribution">
      <contribution
            class="org.zend.php.zendserver.deployment.debug.ui.contributions.RunApplicationContribution">
      </contribution>
      <contribution
            class="org.zend.php.zendserver.deployment.debug.ui.contributions.DebugApplicationContribution">
      </contribution>
      <contribution
            class="org.zend.php.zendserver.deployment.debug.ui.contributions.DeployApplicationContribution">
      </contribution>
   </extension>
   <extension
         point="org.eclipse.core.expressions.propertyTesters">
      <propertyTester
            class="org.zend.php.zendserver.deployment.debug.ui.commands.DebugModeTester"
            id="org.zend.php.zendserver.deployment.debug.ui.debugModeTester"
            namespace="propertyTester.debugMode"
            properties="visible"
            type="java.lang.Object">
      </propertyTester>
   </extension>
   <extension
         point="org.eclipse.ui.preferencePages">
      <page
            class="org.zend.php.zendserver.deployment.debug.ui.preferences.DebugModePreferencesPage"
            id="org.zend.php.zendserver.deployment.ui.OpenShiftPreferences"
            name="Debug Mode">
      </page>
   </extension>

</plugin>
